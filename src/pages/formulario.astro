---
// filepath: c:\Users\Dell\C2bMAMBOAPP\MAMBOAPP\src\pages\formulario.astro

import Navbar from '../components/Navbar.astro';

const handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {
  event.preventDefault();

  // Obtener los datos del formulario
  const form = event.target as HTMLFormElement;
  const formData = {
    nombre: (form.elements.namedItem('nombre') as HTMLInputElement).value,
    ingredientes: (form.elements.namedItem('ingredientes') as HTMLTextAreaElement).value,
    instrucciones: (form.elements.namedItem('instrucciones') as HTMLTextAreaElement).value,
  };

  // Guardar los datos en localStorage
  const recetas = JSON.parse(localStorage.getItem('recetas') || '[]');
  recetas.push(formData);
  localStorage.setItem('recetas', JSON.stringify(recetas));

  alert('Receta guardada en localStorage');
  (event.target as HTMLFormElement).reset();
};
---

<Navbar />

<div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md mt-6">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Comparte tu Receta</h2>
  <form id="recipeForm" class="space-y-4">
    <div>
      <label class="block text-sm font-medium text-gray-700">
        Nombre de la receta:
      </label>
      <input
        type="text"
        name="nombre"
        required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
      />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700">
        Ingredientes:
      </label>
      <textarea
        name="ingredientes"
        required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
      ></textarea>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700">
        Instrucciones:
      </label>
      <textarea
        name="instrucciones"
        required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
      ></textarea>
    </div>
    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
    >
      Guardar Receta
    </button>
  </form>
</div>
